#! /bin/sh /usr/share/dpatch/dpatch-run
## pathnames.dpatch by  <hfrenzel@scunc.net>
##
## All lines beginning with `## DP:' are a description of the patch.
## DP: No description.

@DPATCH@
diff -urNad nagvis-1.3.1~/etc/nagvis.ini.php-sample nagvis-1.3.1/etc/nagvis.ini.php-sample
--- nagvis-1.3.1~/etc/nagvis.ini.php-sample	2008-06-04 17:57:06.000000000 +0000
+++ nagvis-1.3.1/etc/nagvis.ini.php-sample	2008-09-27 12:52:10.000000000 +0000
@@ -84,11 +84,11 @@
 ; path options
 [paths]
 ; absolute physical NagVis path
-;base="/usr/local/nagios/share/nagvis/"
+;base="/usr/share/nagvis/"
 ; absolute html NagVis path
-;htmlbase="/nagios/nagvis"
+;htmlbase="/nagios3/nagvis"
 ; absolute html NagVis cgi path
-;htmlcgi="/nagios/cgi-bin"
+;htmlcgi="/nagios3/cgi-bin"
 
 ; options for the NDO-Backend
 ; in this example the ID of the Backend is "ndomy_1" you can define another ID.
@@ -112,7 +112,7 @@
 ; maximum delay of the NDO Database in Seconds
 ;maxtimewithoutupdate=180
 ; path to the cgi-bin of this backend
-;htmlcgi="/nagios/cgi-bin"
+;htmlcgi="/nagios3/cgi-bin"
 
 ; map rotation pools
 ; in this example the browser switches between the maps demo and demo2 every 15
diff -urNad nagvis-1.3.1~/nagvis/draw.php nagvis-1.3.1/nagvis/draw.php
--- nagvis-1.3.1~/nagvis/draw.php	2008-06-05 21:11:33.000000000 +0000
+++ nagvis-1.3.1/nagvis/draw.php	2008-09-27 12:52:10.000000000 +0000
@@ -27,43 +27,43 @@
 @session_start();
 
 // Include defines
-require("./includes/defines/global.php");
-require("./includes/defines/matches.php");
+require("/usr/share/nagvis/includes/defines/global.php");
+require("/usr/share/nagvis/includes/defines/matches.php");
 
 // Include defines
-require("./includes/functions/debug.php");
-require("./includes/functions/oldPhpVersionFixes.php");
+require("/usr/share/nagvis/includes/functions/debug.php");
+require("/usr/share/nagvis/includes/functions/oldPhpVersionFixes.php");
 
 // Include needed global classes
-require("./includes/classes/GlobalGraphic.php");
-require("./includes/classes/GlobalMainCfg.php");
-require("./includes/classes/GlobalMapCfg.php");
-require("./includes/classes/GlobalMap.php");
-require("./includes/classes/GlobalPage.php");
-require("./includes/classes/GlobalBackground.php");
-require("./includes/classes/GlobalLanguage.php");
-require("./includes/classes/GlobalBackendMgmt.php");
+require("/usr/share/nagvis/includes/classes/GlobalGraphic.php");
+require("/usr/share/nagvis/includes/classes/GlobalMainCfg.php");
+require("/usr/share/nagvis/includes/classes/GlobalMapCfg.php");
+require("/usr/share/nagvis/includes/classes/GlobalMap.php");
+require("/usr/share/nagvis/includes/classes/GlobalPage.php");
+require("/usr/share/nagvis/includes/classes/GlobalBackground.php");
+require("/usr/share/nagvis/includes/classes/GlobalLanguage.php");
+require("/usr/share/nagvis/includes/classes/GlobalBackendMgmt.php");
 
 // Include needed frontend classes
-require("./includes/classes/NagVisMap.php");
-require("./includes/classes/NagVisBackground.php");
-require("./includes/classes/NagVisMapCfg.php");
+require("/usr/share/nagvis/includes/classes/NagVisMap.php");
+require("/usr/share/nagvis/includes/classes/NagVisBackground.php");
+require("/usr/share/nagvis/includes/classes/NagVisMapCfg.php");
 
 // Include needed object classes
-require("./includes/classes/objects/NagVisObject.php");
-require("./includes/classes/objects/NagVisStatefulObject.php");
-require("./includes/classes/objects/NagVisStatelessObject.php");
-require("./includes/classes/objects/NagiosHost.php");
-require("./includes/classes/objects/NagVisHost.php");
-require("./includes/classes/objects/NagiosService.php");
-require("./includes/classes/objects/NagVisService.php");
-require("./includes/classes/objects/NagiosHostgroup.php");
-require("./includes/classes/objects/NagVisHostgroup.php");
-require("./includes/classes/objects/NagiosServicegroup.php");
-require("./includes/classes/objects/NagVisServicegroup.php");
-require("./includes/classes/objects/NagVisMapObj.php");
-require("./includes/classes/objects/NagVisShape.php");
-require("./includes/classes/objects/NagVisTextbox.php");
+require("/usr/share/nagvis/includes/classes/objects/NagVisObject.php");
+require("/usr/share/nagvis/includes/classes/objects/NagVisStatefulObject.php");
+require("/usr/share/nagvis/includes/classes/objects/NagVisStatelessObject.php");
+require("/usr/share/nagvis/includes/classes/objects/NagiosHost.php");
+require("/usr/share/nagvis/includes/classes/objects/NagVisHost.php");
+require("/usr/share/nagvis/includes/classes/objects/NagiosService.php");
+require("/usr/share/nagvis/includes/classes/objects/NagVisService.php");
+require("/usr/share/nagvis/includes/classes/objects/NagiosHostgroup.php");
+require("/usr/share/nagvis/includes/classes/objects/NagVisHostgroup.php");
+require("/usr/share/nagvis/includes/classes/objects/NagiosServicegroup.php");
+require("/usr/share/nagvis/includes/classes/objects/NagVisServicegroup.php");
+require("/usr/share/nagvis/includes/classes/objects/NagVisMapObj.php");
+require("/usr/share/nagvis/includes/classes/objects/NagVisShape.php");
+require("/usr/share/nagvis/includes/classes/objects/NagVisTextbox.php");
 
 // Load the main configuration
 $MAINCFG = new GlobalMainCfg(CONST_MAINCFG);
diff -urNad nagvis-1.3.1~/nagvis/includes/classes/GlobalMainCfg.php nagvis-1.3.1/nagvis/includes/classes/GlobalMainCfg.php
--- nagvis-1.3.1~/nagvis/includes/classes/GlobalMainCfg.php	2008-08-13 19:45:26.000000000 +0000
+++ nagvis-1.3.1/nagvis/includes/classes/GlobalMainCfg.php	2008-09-27 12:53:09.000000000 +0000
@@ -173,7 +173,7 @@
 					'match' => MATCH_STRING_PATH),
 				'var' => Array('must' => 0,
 					'editable' => 0,
-					'default' => '',
+					'default' => '/var/lib/nagvis/',
 					'match' => MATCH_STRING_PATH),
 				'mapcfg' => Array('must' => 0,
 					'editable' => 0,
@@ -189,47 +189,47 @@
 					'match' => MATCH_STRING_PATH),
 				'htmlbase' => Array('must' => 1,
 					'editable' => 1,
-					'default' => '/nagios/nagvis',
+					'default' => '/nagios3/nagvis',
 					'match' => MATCH_STRING_PATH),
 				'htmlcgi' => Array('must' => 1,
 					'editable' => 1,
-					'default' => '/nagios/cgi-bin',
+					'default' => '/nagios3/cgi-bin',
 					'match' => MATCH_STRING_URL),
 				'htmlimages' => Array('must' => 0,
 					'editable' => 0,
-					'default' => '/nagios/nagvis/nagvis/images/',
+					'default' => '/nagios3/nagvis/nagvis/images/',
 					'match' => MATCH_STRING_PATH),
 				'htmlhovertemplates' => Array('must' => 0,
 					'editable' => 0,
-					'default' => '/nagios/nagvis/nagvis/etc/templates/hover/',
+					'default' => '/nagios3/nagvis/nagvis/etc/templates/hover/',
 					'match' => MATCH_STRING_PATH),
 				'htmlheadertemplates' => Array('must' => 0,
 					'editable' => 0,
-					'default' => '/nagios/nagvis/nagvis/etc/templates/header/',
+					'default' => '/nagios3/nagvis/nagvis/etc/templates/header/',
 					'match' => MATCH_STRING_PATH),			
 				'htmlhovertemplateimages' => Array('must' => 0,
 					'editable' => 0,
-					'default' => '/nagios/nagvis/nagvis/images/templates/hover/',
+					'default' => '/nagios3/nagvis/nagvis/images/templates/hover/',
 					'match' => MATCH_STRING_PATH),
 				'htmlheadertemplateimages' => Array('must' => 0,
 					'editable' => 0,
-					'default' => '/nagios/nagvis/nagvis/images/templates/header/',
+					'default' => '/nagios3/nagvis/nagvis/images/templates/header/',
 					'match' => MATCH_STRING_PATH),
 				'htmlicon' => Array('must' => 0,
 					'editable' => 0,
-					'default' => '/nagios/nagvis/nagvis/images/iconsets/',
+					'default' => '/nagios3/nagvis/nagvis/images/iconsets/',
 					'match' => MATCH_STRING_PATH),
 				'htmlshape' => Array('must' => 0,
 					'editable' => 0,
-					'default' => '/nagios/nagvis/nagvis/images/shape/',
+					'default' => '/nagios3/nagvis/nagvis/images/shape/',
 					'match' => MATCH_STRING_PATH),
 				'htmlmap' => Array('must' => 0,
 					'editable' => 0,
-					'default' => '/nagios/nagvis/nagvis/images/maps/',
+					'default' => '/nagios3/nagvis/nagvis/images/maps/',
 					'match' => MATCH_STRING_PATH),
 				'htmlvar' => Array('must' => 0,
 					'editable' => 0,
-					'default' => '/nagios/var/',
+					'default' => '/nagios3/var/',
 					'match' => MATCH_STRING_PATH)),
 			'backend' => Array(
 				'backendtype' => Array('must' => 1,
@@ -288,7 +288,7 @@
 							'match' => MATCH_STRING_NO_SPACE),
 						'cgi' => Array('must' => 1,
 							'editable' => 1,
-							'default' => '/usr/local/nagios/sbin/',
+							'default' => '/usr/lib/cgi-bin/nagios3/',
 							'match' => MATCH_STRING_PATH)))),
 			'rotation' => Array(
 				'rotationid' => Array('must' => 1,
@@ -314,7 +314,7 @@
 					'match' => MATCH_STRING_NO_SPACE_EMPTY),
 				'graphvizpath' => Array('must' => 0,
 					'editable' => 0,
-					'default' => '/usr/local/bin/',
+					'default' => '/usr/bin/',
 					'match' => MATCH_STRING_PATH),
 				'defaultparams' => Array('must' => 0,
 					'editable' => 0,
@@ -361,15 +361,15 @@
 		$this->validConfig['paths']['images']['default'] = $base.'nagvis/images/';
 		$this->validConfig['paths']['shape']['default'] = $base.'nagvis/images/shapes/';
 		$this->validConfig['paths']['language']['default'] = $base.'nagvis/includes/languages/';
-		$this->validConfig['paths']['class']['default'] = $base.'nagvis/includes/classes/';
+		$this->validConfig['paths']['class']['default'] = '/usr/share/nagvis/includes/classes/';
 		$this->validConfig['paths']['map']['default'] = $base.'nagvis/images/maps/';
-		$this->validConfig['paths']['var']['default'] = $base.'var/';
-		$this->validConfig['paths']['hovertemplate']['default'] = $base.'nagvis/templates/hover/';
-		$this->validConfig['paths']['headertemplate']['default'] = $base.'nagvis/templates/header/';
-		$this->validConfig['paths']['mapcfg']['default'] = $base.'etc/maps/';
+		$this->validConfig['paths']['var']['default'] = '/var/lib/nagvis/';
+		$this->validConfig['paths']['hovertemplate']['default'] = '/etc/nagvis/templates/hover/';
+		$this->validConfig['paths']['headertemplate']['default'] = '/etc/nagvis/templates/header/';
+		$this->validConfig['paths']['mapcfg']['default'] = $base.'nagvis/etc/maps/';
 		$this->validConfig['paths']['htmlimages']['default'] = $htmlBase.'/nagvis/images/';
-		$this->validConfig['paths']['htmlhovertemplates']['default'] = $htmlBase.'/nagvis/templates/hover/';
-		$this->validConfig['paths']['htmlheadertemplates']['default'] = $htmlBase.'/nagvis/templates/header/';
+		$this->validConfig['paths']['htmlhovertemplates']['default'] = $htmlBase.'/nagvis/etc/templates/hover/';
+		$this->validConfig['paths']['htmlheadertemplates']['default'] = $htmlBase.'/nagvis/etc/templates/header/';
 		$this->validConfig['paths']['htmlhovertemplateimages']['default'] = $this->validConfig['paths']['htmlimages']['default'].'templates/hover/';
 		$this->validConfig['paths']['htmlheadertemplateimages']['default'] = $this->validConfig['paths']['htmlimages']['default'].'templates/header/';
 		$this->validConfig['paths']['htmlicon']['default'] = $htmlBase.'/nagvis/images/iconsets/';
diff -urNad nagvis-1.3.1~/nagvis/includes/defines/global.php nagvis-1.3.1/nagvis/includes/defines/global.php
--- nagvis-1.3.1~/nagvis/includes/defines/global.php	2008-08-22 19:01:15.000000000 +0000
+++ nagvis-1.3.1/nagvis/includes/defines/global.php	2008-09-27 12:52:10.000000000 +0000
@@ -37,13 +37,13 @@
 define('DEBUGLEVEL', 4);
 
 // Path to the debug file
-define('DEBUGFILE', '../var/nagvis-debug.log');
+define('DEBUGFILE', '/var/log/nagvis-debug.log');
 
 // NagVis Version
 define('CONST_VERSION', '1.3.1');
 
 // Path to the main configuration file
-define('CONST_MAINCFG', '../etc/nagvis.ini.php');
+define('CONST_MAINCFG', '/etc/nagvis/nagvis.ini.php');
 
 // Needed minimal PHP version
 define('CONST_NEEDED_PHP_VERSION', '5.0');
diff -urNad nagvis-1.3.1~/nagvis/index.php nagvis-1.3.1/nagvis/index.php
--- nagvis-1.3.1~/nagvis/index.php	2008-06-05 21:11:33.000000000 +0000
+++ nagvis-1.3.1/nagvis/index.php	2008-09-27 12:52:10.000000000 +0000
@@ -26,44 +26,44 @@
 @session_start();
 
 // Include defines
-require("./includes/defines/global.php");
-require("./includes/defines/matches.php");
+require("/usr/share/nagvis/includes/defines/global.php");
+require("/usr/share/nagvis/includes/defines/matches.php");
 
 // Include functions
-require("./includes/functions/debug.php");
-require("./includes/functions/oldPhpVersionFixes.php");
+require("/usr/share/nagvis/includes/functions/debug.php");
+require("/usr/share/nagvis/includes/functions/oldPhpVersionFixes.php");
 
 // Include needed global classes
-require("./includes/classes/GlobalMainCfg.php");
-require("./includes/classes/GlobalMapCfg.php");
-require("./includes/classes/GlobalLanguage.php");
-require("./includes/classes/GlobalPage.php");
-require("./includes/classes/GlobalMap.php");
-require("./includes/classes/GlobalBackground.php");
-require("./includes/classes/GlobalGraphic.php");
-require("./includes/classes/GlobalBackendMgmt.php");
+require("/usr/share/nagvis/includes/classes/GlobalMainCfg.php");
+require("/usr/share/nagvis/includes/classes/GlobalMapCfg.php");
+require("/usr/share/nagvis/includes/classes/GlobalLanguage.php");
+require("/usr/share/nagvis/includes/classes/GlobalPage.php");
+require("/usr/share/nagvis/includes/classes/GlobalMap.php");
+require("/usr/share/nagvis/includes/classes/GlobalBackground.php");
+require("/usr/share/nagvis/includes/classes/GlobalGraphic.php");
+require("/usr/share/nagvis/includes/classes/GlobalBackendMgmt.php");
 
 // Include needed nagvis classes
-require("./includes/classes/NagVisMapCfg.php");
-require("./includes/classes/NagVisMap.php");
-require("./includes/classes/NagVisFrontend.php");
-require("./includes/classes/NagVisAutoMap.php");
+require("/usr/share/nagvis/includes/classes/NagVisMapCfg.php");
+require("/usr/share/nagvis/includes/classes/NagVisMap.php");
+require("/usr/share/nagvis/includes/classes/NagVisFrontend.php");
+require("/usr/share/nagvis/includes/classes/NagVisAutoMap.php");
 
 // Include needed nagvis object classes
-require("./includes/classes/objects/NagVisObject.php");
-require("./includes/classes/objects/NagVisStatefulObject.php");
-require("./includes/classes/objects/NagVisStatelessObject.php");
-require("./includes/classes/objects/NagiosHost.php");
-require("./includes/classes/objects/NagVisHost.php");
-require("./includes/classes/objects/NagiosService.php");
-require("./includes/classes/objects/NagVisService.php");
-require("./includes/classes/objects/NagiosHostgroup.php");
-require("./includes/classes/objects/NagVisHostgroup.php");
-require("./includes/classes/objects/NagiosServicegroup.php");
-require("./includes/classes/objects/NagVisServicegroup.php");
-require("./includes/classes/objects/NagVisMapObj.php");
-require("./includes/classes/objects/NagVisShape.php");
-require("./includes/classes/objects/NagVisTextbox.php");
+require("/usr/share/nagvis/includes/classes/objects/NagVisObject.php");
+require("/usr/share/nagvis/includes/classes/objects/NagVisStatefulObject.php");
+require("/usr/share/nagvis/includes/classes/objects/NagVisStatelessObject.php");
+require("/usr/share/nagvis/includes/classes/objects/NagiosHost.php");
+require("/usr/share/nagvis/includes/classes/objects/NagVisHost.php");
+require("/usr/share/nagvis/includes/classes/objects/NagiosService.php");
+require("/usr/share/nagvis/includes/classes/objects/NagVisService.php");
+require("/usr/share/nagvis/includes/classes/objects/NagiosHostgroup.php");
+require("/usr/share/nagvis/includes/classes/objects/NagVisHostgroup.php");
+require("/usr/share/nagvis/includes/classes/objects/NagiosServicegroup.php");
+require("/usr/share/nagvis/includes/classes/objects/NagVisServicegroup.php");
+require("/usr/share/nagvis/includes/classes/objects/NagVisMapObj.php");
+require("/usr/share/nagvis/includes/classes/objects/NagVisShape.php");
+require("/usr/share/nagvis/includes/classes/objects/NagVisTextbox.php");
 
 // Load the main configuration
 $MAINCFG = new GlobalMainCfg(CONST_MAINCFG);
diff -urNad nagvis-1.3.1~/wui/ajax_handler.php nagvis-1.3.1/wui/ajax_handler.php
--- nagvis-1.3.1~/wui/ajax_handler.php	2008-03-29 01:01:07.000000000 +0000
+++ nagvis-1.3.1/wui/ajax_handler.php	2008-09-27 12:52:10.000000000 +0000
@@ -29,22 +29,22 @@
 @session_start();
 
 // Include defines
-require("../nagvis/includes/defines/global.php");
-require("../nagvis/includes/defines/matches.php");
+require("/usr/share/nagvis/includes/defines/global.php");
+require("/usr/share/nagvis/includes/defines/matches.php");
 
 // Include functions
-require("../nagvis/includes/functions/debug.php");
+require("/usr/share/nagvis/includes/functions/debug.php");
 
 // Include needed global classes
-require("../nagvis/includes/classes/GlobalMainCfg.php");
-require("../nagvis/includes/classes/GlobalMapCfg.php");
-require("../nagvis/includes/classes/GlobalLanguage.php");
-require("../nagvis/includes/classes/GlobalPage.php");
-require("../nagvis/includes/classes/GlobalBackendMgmt.php");
+require("/usr/share/nagvis/includes/classes/GlobalMainCfg.php");
+require("/usr/share/nagvis/includes/classes/GlobalMapCfg.php");
+require("/usr/share/nagvis/includes/classes/GlobalLanguage.php");
+require("/usr/share/nagvis/includes/classes/GlobalPage.php");
+require("/usr/share/nagvis/includes/classes/GlobalBackendMgmt.php");
 
 // Include needed wui specific classes
-require("./includes/classes/WuiMainCfg.php");
-require("./includes/classes/WuiMapCfg.php");
+require("/usr/share/nagvis/wui/includes/classes/WuiMainCfg.php");
+require("/usr/share/nagvis/wui/includes/classes/WuiMapCfg.php");
 
 // Load the main configuration
 $MAINCFG = new WuiMainCfg(CONST_MAINCFG);
diff -urNad nagvis-1.3.1~/wui/form_handler.php nagvis-1.3.1/wui/form_handler.php
--- nagvis-1.3.1~/wui/form_handler.php	2008-03-29 01:01:07.000000000 +0000
+++ nagvis-1.3.1/wui/form_handler.php	2008-09-27 12:52:10.000000000 +0000
@@ -29,26 +29,26 @@
 @session_start();
 
 // Include defines
-require('../nagvis/includes/defines/global.php');
-require('../nagvis/includes/defines/matches.php');
+require('/usr/share/nagvis/includes/defines/global.php');
+require('/usr/share/nagvis/includes/defines/matches.php');
 
 // Include global functions
-require('../nagvis/includes/functions/debug.php');
+require('/usr/share/nagvis/includes/functions/debug.php');
 
 // Include needed WUI specific functions
-require('./includes/functions/form_handler.php');
+require('/usr/share/nagvis/htdocs/wui/includes/form_handler.php');
 
 // Include needed global classes
-require('../nagvis/includes/classes/GlobalLanguage.php');
-require('../nagvis/includes/classes/GlobalMainCfg.php');
-require('../nagvis/includes/classes/GlobalPage.php');
-require('../nagvis/includes/classes/GlobalMapCfg.php');
-require('../nagvis/includes/classes/GlobalBackground.php');
+require('/usr/share/nagvis/includes/classes/GlobalLanguage.php');
+require('/usr/share/nagvis/includes/classes/GlobalMainCfg.php');
+require('/usr/share/nagvis/includes/classes/GlobalPage.php');
+require('/usr/share/nagvis/includes/classes/GlobalMapCfg.php');
+require('/usr/share/nagvis/includes/classes/GlobalBackground.php');
 
 // Include needed WUI specific classes
-require('./includes/classes/WuiMainCfg.php');
-require('./includes/classes/WuiMapCfg.php');
-require('./includes/classes/WuiBackground.php');
+require('/usr/share/nagvis/wui/includes/classes/WuiMainCfg.php');
+require('/usr/share/nagvis/wui/includes/classes/WuiMapCfg.php');
+require('/usr/share/nagvis/wui/includes/classes/WuiBackground.php');
 
 // Load the main configuration
 $MAINCFG = new WuiMainCfg(CONST_MAINCFG);
diff -urNad nagvis-1.3.1~/wui/includes/classes/WuiAddModify.php nagvis-1.3.1/wui/includes/classes/WuiAddModify.php
--- nagvis-1.3.1~/wui/includes/classes/WuiAddModify.php	2008-05-23 09:15:21.000000000 +0000
+++ nagvis-1.3.1/wui/includes/classes/WuiAddModify.php	2008-09-27 12:52:10.000000000 +0000
@@ -51,10 +51,10 @@
 		$this->LANG = new GlobalLanguage($MAINCFG,'wui:addModify');
 		
 		$prop = Array('title'=>$MAINCFG->getValue('internal', 'title'),
-					  'cssIncludes'=>Array('./includes/css/wui.css'),
-					  'jsIncludes'=>Array('../nagvis/includes/js/ajax.js','./includes/js/addmodify.js',
-					  					  './includes/js/ajax.js',
-					  					  './includes/js/wui.js'),
+					  'cssIncludes'=>Array('./css/wui.css'),
+					  'jsIncludes'=>Array('../nagvis/includes/js/ajax.js','./js/addmodify.js',
+					  					  './js/ajax.js',
+					  					  './js/wui.js'),
 					  'extHeader'=>Array(''),
 					  'allowedUsers' => Array('EVERYONE'));
 		parent::GlobalPage($MAINCFG,$prop,'wui:addModify');
diff -urNad nagvis-1.3.1~/wui/includes/classes/WuiBackendManagement.php nagvis-1.3.1/wui/includes/classes/WuiBackendManagement.php
--- nagvis-1.3.1~/wui/includes/classes/WuiBackendManagement.php	2008-05-01 17:18:59.000000000 +0000
+++ nagvis-1.3.1/wui/includes/classes/WuiBackendManagement.php	2008-09-27 12:52:10.000000000 +0000
@@ -48,10 +48,10 @@
 		$this->LANG = new GlobalLanguage($MAINCFG,'wui:backendManagement');
 		
 		$prop = Array('title'=>$MAINCFG->getValue('internal', 'title'),
-					  'cssIncludes'=>Array('./includes/css/wui.css'),
-					  'jsIncludes'=>Array('../nagvis/includes/js/ajax.js','./includes/js/wui.js',
-					  						'./includes/js/BackendManagement.js',
-					  						'./includes/js/ajax.js'),
+					  'cssIncludes'=>Array('./css/wui.css'),
+					  'jsIncludes'=>Array('../nagvis/includes/js/ajax.js','./js/wui.js',
+					  						'./js/BackendManagement.js',
+					  						'./js/ajax.js'),
 					  'extHeader'=>Array(''),
 					  'allowedUsers' => $this->MAINCFG->getValue('wui','allowedforconfig'),
 					  'languageRoot' => 'wui:backendManagement');
diff -urNad nagvis-1.3.1~/wui/includes/classes/WuiBackgroundManagement.php nagvis-1.3.1/wui/includes/classes/WuiBackgroundManagement.php
--- nagvis-1.3.1~/wui/includes/classes/WuiBackgroundManagement.php	2008-05-01 17:18:59.000000000 +0000
+++ nagvis-1.3.1/wui/includes/classes/WuiBackgroundManagement.php	2008-09-27 12:52:10.000000000 +0000
@@ -46,10 +46,10 @@
 		$this->LANG = new GlobalLanguage($MAINCFG,'wui:backgroundManagement');
 		
 		$prop = Array('title'=>$MAINCFG->getValue('internal', 'title'),
-					  'cssIncludes'=>Array('./includes/css/wui.css'),
-					  'jsIncludes'=>Array('../nagvis/includes/js/ajax.js','./includes/js/BackgroundManagement.js',
-					  						'./includes/js/ajax.js',
-					  						'./includes/js/wui.js'),
+					  'cssIncludes'=>Array('./css/wui.css'),
+					  'jsIncludes'=>Array('../nagvis/includes/js/ajax.js','./js/BackgroundManagement.js',
+					  						'./js/ajax.js',
+					  						'./js/wui.js'),
 					  'extHeader'=>Array(''),
 					  'allowedUsers' => $this->MAINCFG->getValue('wui','allowedforconfig'),
 					  'languageRoot' => 'wui:backgroundManagement');
diff -urNad nagvis-1.3.1~/wui/includes/classes/WuiEditMainCfg.php nagvis-1.3.1/wui/includes/classes/WuiEditMainCfg.php
--- nagvis-1.3.1~/wui/includes/classes/WuiEditMainCfg.php	2008-05-01 19:33:17.000000000 +0000
+++ nagvis-1.3.1/wui/includes/classes/WuiEditMainCfg.php	2008-09-27 12:52:10.000000000 +0000
@@ -43,8 +43,8 @@
 		$this->LANG = new GlobalLanguage($MAINCFG,'wui:editMainCfg');
 		
 		$prop = Array('title'=>$MAINCFG->getValue('internal', 'title'),
-					  'cssIncludes'=>Array('./includes/css/wui.css'),
-					  'jsIncludes'=>Array('./includes/js/wui.js','./includes/js/EditMainCfg.js'),
+					  'cssIncludes'=>Array('./css/wui.css'),
+					  'jsIncludes'=>Array('./js/wui.js','./js/EditMainCfg.js'),
 					  'extHeader'=>Array(''),
 					  'allowedUsers' => $this->MAINCFG->getValue('wui','allowedforconfig'),
 					  'languageRoot' => 'wui:editMainCfg');
diff -urNad nagvis-1.3.1~/wui/includes/classes/WuiFrontend.php nagvis-1.3.1/wui/includes/classes/WuiFrontend.php
--- nagvis-1.3.1~/wui/includes/classes/WuiFrontend.php	2008-05-18 20:53:20.000000000 +0000
+++ nagvis-1.3.1/wui/includes/classes/WuiFrontend.php	2008-09-27 12:52:10.000000000 +0000
@@ -44,13 +44,13 @@
 		$this->LANG = new GlobalLanguage($this->MAINCFG,'wui:global');
 		
 		$prop = Array('title'=>$MAINCFG->getValue('internal', 'title'),
-					  'cssIncludes'=>Array('../nagvis/includes/css/style.css','./includes/css/wui.css','./includes/css/office_xp/office_xp.css'),
-					  'jsIncludes'=>Array('../nagvis/includes/js/ajax.js','./includes/js/wui.js',
-					  	  './includes/js/ajax.js',
-						  './includes/js/jsdomenu.js',
-						  './includes/js/jsdomenu.inc.js',
-						  './includes/js/wz_jsgraphics.js',
-						  './includes/js/wz_dragdrop.js'),
+					  'cssIncludes'=>Array('../nagvis/includes/css/style.css','./css/wui.css','./css/office_xp/office_xp.css'),
+					  'jsIncludes'=>Array('../nagvis/includes/js/ajax.js','./js/wui.js',
+					  	  './js/ajax.js',
+						  './js/jsdomenu.js',
+						  './js/jsdomenu.inc.js',
+						  './js/wz_jsgraphics.js',
+						  './js/wz_dragdrop.js'),
 					  'extHeader'=>Array("<style type=\"text/css\">body.main { background-color: ".$this->MAPCFG->getValue('global',0, 'background_color')."; }</style>"),
 					  'allowedUsers' => $this->MAPCFG->getValue('global', 0,'allowed_for_config'),
 					  'languageRoot' => 'wui:global');
diff -urNad nagvis-1.3.1~/wui/includes/classes/WuiMap.php nagvis-1.3.1/wui/includes/classes/WuiMap.php
--- nagvis-1.3.1~/wui/includes/classes/WuiMap.php	2008-05-01 20:33:58.000000000 +0000
+++ nagvis-1.3.1/wui/includes/classes/WuiMap.php	2008-09-27 12:52:10.000000000 +0000
@@ -144,7 +144,7 @@
 		$ret = array_merge($ret,$this->parseObjects());
 		$ret = array_merge($ret,$this->parseInvisible());
 		$ret = array_merge($ret,$this->makeObjectsMoveable());
-		$ret = array_merge($ret,Array("<script type=\"text/javascript\" src=\"./includes/js/wz_tooltip.js\"></script>"));
+		$ret = array_merge($ret,Array("<script type=\"text/javascript\" src=\"./js/wz_tooltip.js\"></script>"));
 		
 		return $ret;
 	}
diff -urNad nagvis-1.3.1~/wui/includes/classes/WuiMapManagement.php nagvis-1.3.1/wui/includes/classes/WuiMapManagement.php
--- nagvis-1.3.1~/wui/includes/classes/WuiMapManagement.php	2008-05-01 17:18:59.000000000 +0000
+++ nagvis-1.3.1/wui/includes/classes/WuiMapManagement.php	2008-09-27 12:52:10.000000000 +0000
@@ -49,10 +49,10 @@
 		$this->LANG = new GlobalLanguage($MAINCFG,'wui:mapManagement');
 		
 		$prop = Array('title'=>$MAINCFG->getValue('internal', 'title'),
-					  'cssIncludes'=>Array('./includes/css/wui.css'),
-					  'jsIncludes'=>Array('../nagvis/includes/js/ajax.js','./includes/js/map_management.js',
-					  						'./includes/js/ajax.js',
-					  						'./includes/js/wui.js'),
+					  'cssIncludes'=>Array('./css/wui.css'),
+					  'jsIncludes'=>Array('../nagvis/includes/js/ajax.js','./js/map_management.js',
+					  						'./js/ajax.js',
+					  						'./js/wui.js'),
 					  'extHeader'=>Array(''),
 					  'allowedUsers' => $this->MAINCFG->getValue('wui','allowedforconfig'),
 					  'languageRoot' => 'wui:mapManagement');
diff -urNad nagvis-1.3.1~/wui/includes/classes/WuiShapeManagement.php nagvis-1.3.1/wui/includes/classes/WuiShapeManagement.php
--- nagvis-1.3.1~/wui/includes/classes/WuiShapeManagement.php	2008-05-01 17:18:59.000000000 +0000
+++ nagvis-1.3.1/wui/includes/classes/WuiShapeManagement.php	2008-09-27 12:52:10.000000000 +0000
@@ -47,10 +47,10 @@
         $this->LANG = new GlobalLanguage($MAINCFG,'wui:shapeManagement');
         
         $prop = Array('title'=>$MAINCFG->getValue('internal', 'title'),
-                    'cssIncludes'=>Array('./includes/css/wui.css'),
-                    'jsIncludes'=>Array('../nagvis/includes/js/ajax.js','./includes/js/ShapeManagement.js',
-                        './includes/js/ajax.js',
-                        './includes/js/wui.js'),
+                    'cssIncludes'=>Array('./css/wui.css'),
+                    'jsIncludes'=>Array('../nagvis/includes/js/ajax.js','./js/ShapeManagement.js',
+                        './js/ajax.js',
+                        './js/wui.js'),
                     'extHeader'=>Array(''),
                     'allowedUsers' => $this->MAINCFG->getValue('wui','allowedforconfig'),
                     'languageRoot' => 'wui:shapeManagement');
diff -urNad nagvis-1.3.1~/wui/index.php nagvis-1.3.1/wui/index.php
--- nagvis-1.3.1~/wui/index.php	2008-06-06 11:19:25.000000000 +0000
+++ nagvis-1.3.1/wui/index.php	2008-09-27 12:52:10.000000000 +0000
@@ -29,25 +29,25 @@
 @session_start();
 
 // Include defines
-require("../nagvis/includes/defines/global.php");
-require("../nagvis/includes/defines/matches.php");
+require("/usr/share/nagvis/includes/defines/global.php");
+require("/usr/share/nagvis/includes/defines/matches.php");
 
 // Include functions
-require("../nagvis/includes/functions/debug.php");
-require("../nagvis/includes/functions/oldPhpVersionFixes.php");
+require("/usr/share/nagvis/includes/functions/debug.php");
+require("/usr/share/nagvis/includes/functions/oldPhpVersionFixes.php");
 
 // Include needed global classes
-require("../nagvis/includes/classes/GlobalMainCfg.php");
-require("../nagvis/includes/classes/GlobalMapCfg.php");
-require("../nagvis/includes/classes/GlobalLanguage.php");
-require("../nagvis/includes/classes/GlobalPage.php");
-require("../nagvis/includes/classes/GlobalMap.php");
-require("../nagvis/includes/classes/GlobalBackground.php");
-require("../nagvis/includes/classes/GlobalGraphic.php");
+require("/usr/share/nagvis/includes/classes/GlobalMainCfg.php");
+require("/usr/share/nagvis/includes/classes/GlobalMapCfg.php");
+require("/usr/share/nagvis/includes/classes/GlobalLanguage.php");
+require("/usr/share/nagvis/includes/classes/GlobalPage.php");
+require("/usr/share/nagvis/includes/classes/GlobalMap.php");
+require("/usr/share/nagvis/includes/classes/GlobalBackground.php");
+require("/usr/share/nagvis/includes/classes/GlobalGraphic.php");
 
 // Include needed wui specific classes
-require("./includes/classes/WuiMainCfg.php");
-require("./includes/classes/WuiMapCfg.php");
+require("/usr/share/nagvis/wui/includes/classes/WuiMainCfg.php");
+require("/usr/share/nagvis/wui/includes/classes/WuiMapCfg.php");
 
 // Load the main configuration
 $MAINCFG = new WuiMainCfg(CONST_MAINCFG);
@@ -61,8 +61,8 @@
 switch($_GET['page']) {
 	case 'edit_config':
 		// Include page specific global/wui classes
-		require("../nagvis/includes/classes/GlobalForm.php");
-		require("./includes/classes/WuiEditMainCfg.php");
+		require("/usr/share/nagvis/includes/classes/GlobalForm.php");
+		require("/usr/share/nagvis/wui/includes/classes/WuiEditMainCfg.php");
 		
 		$FRONTEND = new WuiEditMainCfg($MAINCFG);
 		$FRONTEND->getForm();
@@ -70,40 +70,40 @@
 	break;
 	case 'shape_management':
 		// Include page specific global/wui classes
-		require("../nagvis/includes/classes/GlobalForm.php");
-		require("./includes/classes/WuiShapeManagement.php");
+		require("/usr/share/nagvis/includes/classes/GlobalForm.php");
+		require("/usr/share/nagvis/wui/includes/classes/WuiShapeManagement.php");
 		
 		$FRONTEND = new WuiShapeManagement($MAINCFG);
 		$FRONTEND->getForm();
 	break;
 	case 'background_management':
 		// Include page specific global/wui classes
-		require("../nagvis/includes/classes/GlobalForm.php");
-		require("./includes/classes/WuiBackgroundManagement.php");
+		require("/usr/share/nagvis/includes/classes/GlobalForm.php");
+		require("/usr/share/nagvis/wui/includes/classes/WuiBackgroundManagement.php");
 		
 		$FRONTEND = new WuiBackgroundManagement($MAINCFG);
 		$FRONTEND->getForm();
 	break;
 	case 'map_management':
 		// Include page specific global/wui classes
-		require("../nagvis/includes/classes/GlobalForm.php");
-		require("./includes/classes/WuiMapManagement.php");
+		require("/usr/share/nagvis/includes/classes/GlobalForm.php");
+		require("/usr/share/nagvis/wui/includes/classes/WuiMapManagement.php");
 		
 		$FRONTEND = new WuiMapManagement($MAINCFG);
 		$FRONTEND->getForm();
 	break;
 	case 'backend_management':
 		// Include page specific global/wui classes
-		require("../nagvis/includes/classes/GlobalForm.php");
-		require("./includes/classes/WuiBackendManagement.php");
+		require("/usr/share/nagvis/includes/classes/GlobalForm.php");
+		require("/usr/share/nagvis/wui/includes/classes/WuiBackendManagement.php");
 		
 		$FRONTEND = new WuiBackendManagement($MAINCFG);
 		$FRONTEND->getForm();
 	break;
 	case 'addmodify':
 		// Include page specific global/wui classes
-		require("../nagvis/includes/classes/GlobalForm.php");
-		require("./includes/classes/WuiAddModify.php");
+		require("/usr/share/nagvis/includes/classes/GlobalForm.php");
+		require("/usr/share/nagvis/wui/includes/classes/WuiAddModify.php");
 		
 		$MAPCFG = new WuiMapCfg($MAINCFG,$_GET['map']);
 		$MAPCFG->readMapConfig();
@@ -125,8 +125,8 @@
 		// Default is the wui map
 		
 		// Include page specific global/wui classes
-		require("./includes/classes/WuiFrontend.php");
-		require("./includes/classes/WuiMap.php");
+		require("/usr/share/nagvis/wui/includes/classes/WuiFrontend.php");
+		require("/usr/share/nagvis/wui/includes/classes/WuiMap.php");
 		
 		// Set empty map if none is set
 		if(!isset($_GET['map'])) {
