<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
    <head>
    <title>Update-Hinweise</title>
        <link rel="stylesheet" type="text/css" media="screen" href="../general/css/style.css" />
<!--[if IE]>
        <style type="text/css"> 
        /* place css fixes for all versions of IE in this conditional comment */
            .page #sidebar1, .page #sidebar2 { padding-top: 30px; }
            .page #mainContent { zoom: 1; padding-top: 15px; }
        /* the above proprietary zoom property gives IE the hasLayout it needs to avoid several bugs */
    </style>
<![endif]-->
    </head>  
    <h1>NagVis Update-Hinweise</h1>
    
    Wichtigste Regel: machen Sie immer ein Backup, bevor Sie eine existierende Installation aktualisieren.<br><br>
    
    Es gibt mehrere F&auml;lle der Aktualisierung:<br>
    <ol>
        <li>Aktualisierung einer sehr alten Hauptversion (1.1.x, 1.2.x, 1.3.x, 1.4.x)</li>
        <li>Aktualisierung der letzten Hauptversion (1.5.x)</li>
<!--
        <li>Aktualisierung der Sub-Version (1.6x auf 1.6x)</li>
-->
    </ol>
     
    <h2>Aktualisierung von NagVis 1.4 oder darunter</h2>
    Es gab viele &Auml;nderungen an der inneren Struktur von NagVis und den Konfigurationswerten. Der beste Weg zur Aktualisierung auf die neueste NagVis-Version ist, die neue Version als Neuinstallation aufzusetzen und Ihre Maps/Icons/Konfigurationen usw. manuell zu migrieren.<br><br>
    Sie sollten einen Blick auf die folgenden Stellen werfen:
    <ul>
        <li> Maps (etc/maps)</li>
        kopieren Sie einfach alle Map-Konfigurationsdateien
    </ul>
        
    <ul>
        <li> Hintergrundbilder (nagvis/images/maps)</li>
        kopieren Sie einfach alle Hintergrundbilder
    </ul>
        
    <ul>
        <li> Iconsets (nagvis/images/iconsets)</li>
        kopieren Sie einfach alles, was nicht "std_*" hei&szlig;t
    </ul>
        
    <ul>
        <li> Shapes (nagvis/images/shapes)</li>
        kopieren Sie einfach alles
    </ul>
        
    <ul>
        <li> Templates (nagvis/templates/hover und nagvis/images/templates/header)</li>
        kopieren Sie einfach Ihre eigenen Templates. <font color=red>Achtung: </font>&Uuml;berschreiben Sie nicht die Default-Templates. M&ouml;glicherweise m&uuml;ssen Sie Ihre vor-1.4-Templates aktualisieren. Mehr Informationen finden Sie auf der <a href=http://www.nagvis.org/download/templates>Template download</a>-Seite.
    </ul>
        
    <ul>
        <li> Template-Bilder (nagvis/images/templates/hover und nagvis/images/templates/header)</li>
        kopieren Sie einfach alles.
    </ul>
        
    <ul>
        <li> Hauptkonfiguration (etc/nagvis.inc.php)</li>
        Sie sollten diese Datei <font color=red>nicht</font> kopieren. Der beste Weg ist, die Beispieldatei der neuen NagVis-Version nach etc/nagvis.inc.php zu kopieren und die Werte Ihrer alten Installation manuell in die neue Datei zu migrieren.
    </ul>
        
    <h2>Aktualisierung von NagVis 1.4x</h2>
    <p>Von NagVis 1.4x nach 1.5x wurde eine Menge an der Verzeichnisstruktur ge&auml;ndert. Das mitgelieferte Installations-Script kann NagVis 1.4x/1.5x auf das letzte 1.6x-Release aktualisieren. Daher wird empfohlen, dieses Script (<code>install.sh</code>) zur Aktualisierung zu nutzen.</p>
    
    <p>Die Berechtigungskonfiguration hat sich in NagVis 1.5 ge&auml;ndert. Deshalb entfernt das Installationsscript die Direktiven allowed_for_config und allowed_users aus den Map-Konfigurationsdateien. Die Berechtigungen werden nicht automatisch in die Berechtigungsdatenbank geladen, sondern in die nagvis/etc/auth-backup-Datei geschrieben. Mit diesen Informationen k&ouml;nnen Sie die Berechtigungen f&uuml;r die Maps im neuen rollenbasierten Berechtigungssystem vergeben.</p>
    <p>Es ist auch m&ouml;glich, den Update von 1.4x auf 1.6x manuell durchzuf&uuml;hren, aber das wurde bisher weder getestet noch dokumentiert.
        Generell sollte es so funktionieren wie oben beschrieben (also kopieren der eigenen Dateien an die neuen Stellen und anpassen der nagvis.ini.php, <font color="#ff0000">nicht</font> kopieren).<br>
        Wenn Sie also die Installation selbst erledigen m&ouml;chten, dann werden Sie etwas probieren m&uuml;ssen. Bitte leiten Sie dann Ihre Erfahrungen an uns weiter, damit wir diese Dokumentation erweitern k&ouml;nnen.</p>
    
<!--
    <h2>Aktualisierung von NagVis 1.6x</h2>
    Solange Sie in Ihrer Installation nichts am NagVis-Code ge&auml;ndert haben, k&ouml;nnen Sie einfach den Inhalt des neuen Packages in die bestehende Installation kopieren.<br>
    Die Konfigurationsdateien werden durch die Packages nicht ersetzt.<br><br>
-->
    <font color=red>&Uuml;berpr&uuml;fen Sie nach der Aktualisierung die <a href=./installation_instructions.html#SCHRITT_5>Berechtigungen</a></font> 
</html>
